{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Sergio Moscoso\\\\Downloads\\\\Algoritmo Genetico para optimizacion de espacios\\\\frontend\\\\src\\\\components\\\\DistributionCanvas.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AREA_MAXIMA = 50;\nconst CANVAS_WIDTH = 800;\nconst CANVAS_HEIGHT = 600;\nconst DistributionCanvas = ({\n  distribucion\n}) => {\n  _s();\n  const canvasRef = useRef(null);\n  useEffect(() => {\n    if (!canvasRef.current || !distribucion) return;\n    const canvas = canvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    ctx.fillStyle = \"#0a0a0a\";\n    ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n    ctx.strokeStyle = \"#1f1f1f\";\n    ctx.lineWidth = 2;\n    ctx.strokeRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n    const colores = [\"#0070f3\", \"#10b981\", \"#f59e0b\", \"#ef4444\", \"#8b5cf6\", \"#ec4899\", \"#14b8a6\", \"#f97316\", \"#6366f1\", \"#84cc16\", \"#06b6d4\", \"#f43f5e\"];\n    const escala = Math.sqrt(CANVAS_WIDTH * CANVAS_HEIGHT / AREA_MAXIMA);\n    let x = 10;\n    let y = 10;\n    let maxHeightInRow = 0;\n    distribucion.forEach((item, index) => {\n      const areaUnitaria = item.area;\n      const cantidad = item.cantidad;\n      for (let i = 0; i < cantidad; i++) {\n        const lado = Math.sqrt(areaUnitaria) * escala;\n        if (x + lado > CANVAS_WIDTH - 10) {\n          x = 10;\n          y += maxHeightInRow + 5;\n          maxHeightInRow = 0;\n        }\n        if (y + lado > CANVAS_HEIGHT - 10) {\n          break;\n        }\n        ctx.fillStyle = colores[index % colores.length];\n        ctx.fillRect(x, y, lado, lado);\n        ctx.strokeStyle = \"#0a0a0a\";\n        ctx.lineWidth = 2;\n        ctx.strokeRect(x, y, lado, lado);\n        if (lado > 40) {\n          ctx.fillStyle = \"#ffffff\";\n          ctx.font = \"bold 12px Inter, sans-serif\";\n          ctx.textAlign = \"center\";\n          ctx.textBaseline = \"middle\";\n          const texto = item.nombre.length > 15 ? item.nombre.substring(0, 12) + \"...\" : item.nombre;\n          ctx.fillText(texto, x + lado / 2, y + lado / 2);\n        }\n        x += lado + 5;\n        maxHeightInRow = Math.max(maxHeightInRow, lado);\n      }\n    });\n    const legendX = 10;\n    const legendY = CANVAS_HEIGHT - 20 - distribucion.length * 25;\n    ctx.fillStyle = \"rgba(15, 15, 15, 0.95)\";\n    ctx.fillRect(legendX - 5, legendY - 5, 220, distribucion.length * 25 + 10);\n    ctx.strokeStyle = \"#1f1f1f\";\n    ctx.lineWidth = 1;\n    ctx.strokeRect(legendX - 5, legendY - 5, 220, distribucion.length * 25 + 10);\n    distribucion.forEach((item, index) => {\n      ctx.fillStyle = colores[index % colores.length];\n      ctx.fillRect(legendX, legendY + index * 25, 15, 15);\n      ctx.strokeStyle = \"#0a0a0a\";\n      ctx.lineWidth = 1;\n      ctx.strokeRect(legendX, legendY + index * 25, 15, 15);\n      ctx.fillStyle = \"#e5e5e5\";\n      ctx.font = \"12px Inter, sans-serif\";\n      ctx.textAlign = \"left\";\n      ctx.fillText(`${item.nombre} (${item.cantidad})`, legendX + 20, legendY + index * 25 + 10);\n    });\n  }, [distribucion]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"canvas-container\",\n    children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      width: CANVAS_WIDTH,\n      height: CANVAS_HEIGHT\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n};\n_s(DistributionCanvas, \"UJgi7ynoup7eqypjnwyX/s32POg=\");\n_c = DistributionCanvas;\nexport default DistributionCanvas;\nvar _c;\n$RefreshReg$(_c, \"DistributionCanvas\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useEffect","useRef","jsxDEV","_jsxDEV","AREA_MAXIMA","CANVAS_WIDTH","CANVAS_HEIGHT","DistributionCanvas","distribucion","canvasRef","current","canvas","ctx","getContext","fillStyle","fillRect","strokeStyle","lineWidth","strokeRect","colores","escala","Math","sqrt","x","y","maxHeightInRow","forEach","item","index","areaUnitaria","area","cantidad","i","lado","length","font","textAlign","textBaseline","texto","nombre","substring","fillText","max","legendX","legendY","className","children","ref","width","height","fileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Sergio Moscoso/Downloads/Algoritmo Genetico para optimizacion de espacios/frontend/src/components/DistributionCanvas.jsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useRef } from \"react\"\n\nconst AREA_MAXIMA = 50\nconst CANVAS_WIDTH = 800\nconst CANVAS_HEIGHT = 600\n\nconst DistributionCanvas = ({ distribucion }) => {\n  const canvasRef = useRef(null)\n\n  useEffect(() => {\n    if (!canvasRef.current || !distribucion) return\n\n    const canvas = canvasRef.current\n    const ctx = canvas.getContext(\"2d\")\n\n    ctx.fillStyle = \"#0a0a0a\"\n    ctx.fillRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\n    ctx.strokeStyle = \"#1f1f1f\"\n    ctx.lineWidth = 2\n    ctx.strokeRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT)\n\n    const colores = [\n      \"#0070f3\",\n      \"#10b981\",\n      \"#f59e0b\",\n      \"#ef4444\",\n      \"#8b5cf6\",\n      \"#ec4899\",\n      \"#14b8a6\",\n      \"#f97316\",\n      \"#6366f1\",\n      \"#84cc16\",\n      \"#06b6d4\",\n      \"#f43f5e\",\n    ]\n\n    const escala = Math.sqrt((CANVAS_WIDTH * CANVAS_HEIGHT) / AREA_MAXIMA)\n\n    let x = 10\n    let y = 10\n    let maxHeightInRow = 0\n\n    distribucion.forEach((item, index) => {\n      const areaUnitaria = item.area\n      const cantidad = item.cantidad\n\n      for (let i = 0; i < cantidad; i++) {\n        const lado = Math.sqrt(areaUnitaria) * escala\n\n        if (x + lado > CANVAS_WIDTH - 10) {\n          x = 10\n          y += maxHeightInRow + 5\n          maxHeightInRow = 0\n        }\n\n        if (y + lado > CANVAS_HEIGHT - 10) {\n          break\n        }\n\n        ctx.fillStyle = colores[index % colores.length]\n        ctx.fillRect(x, y, lado, lado)\n\n        ctx.strokeStyle = \"#0a0a0a\"\n        ctx.lineWidth = 2\n        ctx.strokeRect(x, y, lado, lado)\n\n        if (lado > 40) {\n          ctx.fillStyle = \"#ffffff\"\n          ctx.font = \"bold 12px Inter, sans-serif\"\n          ctx.textAlign = \"center\"\n          ctx.textBaseline = \"middle\"\n\n          const texto = item.nombre.length > 15 ? item.nombre.substring(0, 12) + \"...\" : item.nombre\n\n          ctx.fillText(texto, x + lado / 2, y + lado / 2)\n        }\n\n        x += lado + 5\n        maxHeightInRow = Math.max(maxHeightInRow, lado)\n      }\n    })\n\n    const legendX = 10\n    const legendY = CANVAS_HEIGHT - 20 - distribucion.length * 25\n\n    ctx.fillStyle = \"rgba(15, 15, 15, 0.95)\"\n    ctx.fillRect(legendX - 5, legendY - 5, 220, distribucion.length * 25 + 10)\n    ctx.strokeStyle = \"#1f1f1f\"\n    ctx.lineWidth = 1\n    ctx.strokeRect(legendX - 5, legendY - 5, 220, distribucion.length * 25 + 10)\n\n    distribucion.forEach((item, index) => {\n      ctx.fillStyle = colores[index % colores.length]\n      ctx.fillRect(legendX, legendY + index * 25, 15, 15)\n      ctx.strokeStyle = \"#0a0a0a\"\n      ctx.lineWidth = 1\n      ctx.strokeRect(legendX, legendY + index * 25, 15, 15)\n\n      ctx.fillStyle = \"#e5e5e5\"\n      ctx.font = \"12px Inter, sans-serif\"\n      ctx.textAlign = \"left\"\n      ctx.fillText(`${item.nombre} (${item.cantidad})`, legendX + 20, legendY + index * 25 + 10)\n    })\n  }, [distribucion])\n\n  return (\n    <div className=\"canvas-container\">\n      <canvas ref={canvasRef} width={CANVAS_WIDTH} height={CANVAS_HEIGHT} />\n    </div>\n  )\n}\n\nexport default DistributionCanvas\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}